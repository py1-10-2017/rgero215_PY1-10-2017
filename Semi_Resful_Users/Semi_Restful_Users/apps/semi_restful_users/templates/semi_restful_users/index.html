<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Users</title>
        {% load static %}
        <link rel="stylesheet" href="{% static 'semi_restful_users/css/bootstrap-4.0.0-beta/dist/css/bootstrap.min.css'%}">
        <link rel="stylesheet" href="{% static 'semi_restful_users/css/bootstrap-4.0.0-beta/docs/4.0/examples/starter-template/starter-template.css'%}">
        <link rel="stylesheet" href="{% static 'semi_restful_users/css/style.css'%}">
        <script type="text/javascript" src="{% static 'semi_restful_users/js/jquery-3.2.1.js'%}"></script>
        <script type="text/javascript" src="{% static 'semi_restful_users/css/bootstrap-4.0.0-beta/assets/js/vendor/popper.min.js'%}"></script>
        <script type="text/javascript" src="{% static 'semi_restful_users/css/bootstrap-4.0.0-beta/dist/js/bootstrap.min.js'%}"></script>
        <script type="text/javascript" src="{% static 'semi_restful_users/js/script.js'%}"></script>
    </head>
    <body>
        <div class="container">
            <div class="jumbotron">
                <h1>Users</h1>
                        <!-- with all the data we can then construct a more structured output -->


                            <table class="table table-striped table-inverse table-bordered">
                              <thead>
                                <tr>
                                  <th scope="col">id</th>
                                  <th scope="col">Full Name</th>
                                  <th scope="col">Email</th>
                                  <th scope="col">Create At</th>
                                  <th scope="col">Actions</th>
                                </tr>
                              </thead>

                                  <tbody>
                                    {% for user in all_users %}
                                        <tr>
                                          <td>{{ user.id }}</td>
                                          <td><a href="/users/{{user.id}}">{{ user.first_name }} {{ user.last_name }}</a></td>
                                          <td>{{ user.email }}</td>
                                          <td>{{ user.created_at|date }}</td>
                                          <td class="actions">
                                              <form action='/users/{{ user.id }}' method='GET'>
                                                  {% csrf_token %}
                                                  <input formaction="/users/{{ user.id }}" class="btn btn-outline-light" type="submit" name = "show" value="Show">
                                              </from>
                                              <form action='/users/{{ user.id }}/edit' method='POST'>
                                                  {% csrf_token %}
                                                  <input formaction="/users/{{ user.id }}/edit" class="btn btn-outline-light" type="submit" name = "edit" value="Edit">
                                              </from>
                                              <form action='/users/{{ user.id }}/delete' method='POST'>
                                                  {% csrf_token %}
                                                  <input formaction="/users/{{ user.id }}/delete" class="btn btn-outline-danger" type="submit" name="delete" value="Delete">
                                              </form>
                                          </td>
                                        </tr>
                                    {% endfor %}
                                  </tbody>

                          </table>
                <h3><a href="/users/new">Add a new user</a></h3>
            </div>
        </div>
    </body>
</html>
